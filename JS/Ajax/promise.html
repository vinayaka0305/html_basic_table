<script>
    function gpayScan(input){
        return new Promise(function(resolve){
         setTimeout(function(){
                console.log("scanning");
                resolve(input);
            },2000)
        });
    } 

    function checkBalance(input){
        return new Promise(function(resolve){
            let balance = 4000;
            if(balance -input>0){
                console.log("balance available");
                resolve(input);
            }else{
                console.log("insufficient balance");
            }
        })
    }

    function sent(input){
        return new Promise(function(resolve){
            console.log("transaction successful");
            resolve(input);
        })
    }
    gpayScan(5000).then(function(input){
        return checkBalance(input).then(function(input){
            return sent(input);
        })
    })
</script>